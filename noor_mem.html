<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Butterfly Animation with Scrolling</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: #1a1a2e;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      position: relative;
      max-width: 1000px;
      margin: 0 auto;
      background: linear-gradient(135deg, #16213e, #0f3460);
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
      overflow: hidden;
      padding: 20px;
    }
    
    .title {
      text-align: center;
      color: #fff;
      margin: 20px 0 40px;
    }
    
    .title h1 {
      font-size: 2.5rem;
      background: linear-gradient(to right, #ff7e5f, #feb47b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(255, 126, 95, 0.4);
    }
    
    .explanation {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
      color: #e6e6e6;
      line-height: 1.6;
    }
    
    .explanation h2 {
      color: #4cc9f0;
      margin-bottom: 10px;
    }
    
    .code-container {
      background: #0d1b2a;
      border-radius: 15px;
      padding: 20px;
      color: #e0e1dd;
      font-family: 'Courier New', monospace;
      overflow: auto;
      margin-bottom: 40px;
    }
    
    .code-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      color: #4cc9f0;
    }
    
    .code-block {
      background: #1b263b;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    
    pre {
      white-space: pre-wrap;
      line-height: 1.5;
    }
    
    .comment {
      color: #5a7d9a;
    }
    
    .selector {
      color: #90e0ef;
    }
    
    .property {
      color: #ff9e00;
    }
    
    .value {
      color: #ff70a6;
    }
    
    /* Butterfly container */
    .butterflies {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    
    /* Individual butterfly styling */
    .butterfly {
      position: absolute;
      width: 40px;
      height: 40px;
      animation: fly linear infinite;
      opacity: 0.8;
      z-index: 1;
    }
    
    /* Butterfly wings animation */
    .butterfly::before,
    .butterfly::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      border-radius: 50%;
      top: 0;
    }
    
    .butterfly::before {
      left: -20px;
      transform-origin: right center;
      animation: flapLeft 0.8s ease-in-out infinite alternate;
    }
    
    .butterfly::after {
      right: -20px;
      transform-origin: left center;
      animation: flapRight 0.8s ease-in-out infinite alternate;
    }
    
    /* Wing animations */
    @keyframes flapLeft {
      0% { transform: rotate(-30deg); }
      100% { transform: rotate(30deg); }
    }
    
    @keyframes flapRight {
      0% { transform: rotate(30deg); }
      100% { transform: rotate(-30deg); }
    }
    
    /* Flying path animation - now relative to viewport */
    @keyframes fly {
      0% {
        transform: translateX(0) translateY(0) rotate(0deg);
      }
      25% {
        transform: translateX(25vw) translateY(25vh) rotate(10deg);
      }
      50% {
        transform: translateX(50vw) translateY(50vh) rotate(0deg);
      }
      75% {
        transform: translateX(75vw) translateY(25vh) rotate(-10deg);
      }
      100% {
        transform: translateX(100vw) translateY(0) rotate(0deg);
      }
    }
    
    /* Different butterfly styles and paths */
    .butterfly:nth-child(1) {
      top: 20%;
      animation-duration: 15s;
      animation-delay: 0s;
      filter: hue-rotate(0deg);
    }
    
    .butterfly:nth-child(2) {
      top: 40%;
      animation-duration: 18s;
      animation-delay: 2s;
      filter: hue-rotate(90deg);
      animation-direction: reverse;
    }
    
    .butterfly:nth-child(3) {
      top: 60%;
      animation-duration: 20s;
      animation-delay: 4s;
      filter: hue-rotate(180deg);
    }
    
    .butterfly:nth-child(4) {
      top: 30%;
      animation-duration: 17s;
      animation-delay: 1s;
      filter: hue-rotate(270deg);
      animation-direction: reverse;
    }
    
    .butterfly:nth-child(5) {
      top: 50%;
      animation-duration: 22s;
      animation-delay: 3s;
      filter: hue-rotate(320deg);
    }
    
    /* Additional content to demonstrate scrolling */
    .content-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      color: #e6e6e6;
      line-height: 1.8;
    }
    
    .content-section h2 {
      color: #4cc9f0;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .content-columns {
      display: flex;
      gap: 20px;
      margin-top: 30px;
    }
    
    .content-column {
      flex: 1;
      background: rgba(0, 0, 0, 0.2);
      padding: 20px;
      border-radius: 10px;
    }
    
    .content-column h3 {
      color: #ff9e00;
      margin-bottom: 15px;
      text-align: center;
    }
    
    .content-column p {
      margin-bottom: 15px;
    }
    
    .scroll-indicator {
      text-align: center;
      color: #ff7e5f;
      margin: 30px 0;
      font-size: 1.2rem;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 0.5; }
      50% { opacity: 1; }
      100% { opacity: 0.5; }
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      .title h1 {
        font-size: 2rem;
      }
      
      .content-columns {
        flex-direction: column;
      }
      
      .butterfly {
        width: 30px;
        height: 30px;
      }
    }
  </style>
</head>
<body>
  <div class="butterflies">
    <div class="butterfly"></div>
    <div class="butterfly"></div>
    <div class="butterfly"></div>
    <div class="butterfly"></div>
    <div class="butterfly"></div>
  </div>
  
  <div class="container">
    <div class="title">
      <h1>Butterfly Animation with Scrolling Support</h1>
    </div>
    
    <div class="explanation">
      <h2>Fixed Scrolling Issue</h2>
      <p>The butterflies are now visible throughout the entire page when scrolling. The key changes made were:</p>
      <ul>
        <li>Changed butterfly container to <code>position: fixed</code> instead of absolute</li>
        <li>Modified flight paths to use viewport units (vw/vh) instead of fixed pixels</li>
        <li>Added more content to demonstrate scrolling functionality</li>
        <li>Ensured butterflies stay visible across the entire page</li>
      </ul>
    </div>
    
    <div class="scroll-indicator">
      <i class="fas fa-arrow-down"></i> Scroll down to see butterflies across the page <i class="fas fa-arrow-down"></i>
    </div>
    
    <div class="content-section">
      <h2>How the Butterfly Animation Works</h2>
      <p>This animation creates butterflies using pure CSS without any images or GIFs. Each butterfly is created using pseudo-elements for the wings, with gradient backgrounds and border-radius for a natural shape.</p>
      <p>The animation has two parts: wing flapping using transform rotations, and flight paths using keyframe animations. Each butterfly has a unique path, speed, and color variation.</p>
    </div>
    
    <div class="content-columns">
      <div class="content-column">
        <h3>Wing Animation</h3>
        <p>The wing flapping effect is achieved using two pseudo-elements (::before and ::after) for each butterfly. These are positioned to create the left and right wings.</p>
        <p>Each wing has its own animation that rotates it back and forth, creating a natural flapping motion. The transform-origin property ensures the wings rotate from their base attachment point.</p>
      </div>
      
      <div class="content-column">
        <h3>Flight Path</h3>
        <p>The flight path is created with a keyframe animation that moves the butterfly through a series of positions. By using viewport units (vw/vh) instead of fixed pixels, the flight path remains proportional to the screen size.</p>
        <p>Each butterfly has a unique path defined by different start positions, animation durations, and directions. Some butterflies fly left-to-right while others fly right-to-left.</p>
      </div>
      
      <div class="content-column">
        <h3>Visual Variety</h3>
        <p>To create visual variety among the butterflies, we use CSS filters like hue-rotate to change their colors. This creates a natural-looking diversity with minimal code.</p>
        <p>Each butterfly also has unique size and timing properties, making the animation look more organic and less repetitive.</p>
      </div>
    </div>
    
    <div class="code-container">
      <div class="code-header">
        <h3>CSS Implementation</h3>
        <span>butterfly.css</span>
      </div>
      
      <div class="code-block">
        <pre><span class="comment">/* Butterfly container - FIXED POSITION */</span>
<span class="selector">.butterflies</span> {
  <span class="property">position</span>: <span class="value">fixed</span>;
  <span class="property">top</span>: <span class="value">0</span>;
  <span class="property">left</span>: <span class="value">0</span>;
  <span class="property">width</span>: <span class="value">100%</span>;
  <span class="property">height</span>: <span class="value">100%</span>;
  <span class="property">pointer-events</span>: <span class="value">none</span>;
  <span class="property">z-index</span>: <span class="value">1</span>;
}

<span class="comment">/* Butterfly flight path using viewport units */</span>
<span class="selector">@keyframes fly</span> {
  <span class="value">0%</span> {
    <span class="property">transform</span>: <span class="value">translateX(0) translateY(0) rotate(0deg)</span>;
  }
  <span class="value">25%</span> {
    <span class="property">transform</span>: <span class="value">translateX(25vw) translateY(25vh) rotate(10deg)</span>;
  }
  <span class="value">50%</span> {
    <span class="property">transform</span>: <span class="value">translateX(50vw) translateY(50vh) rotate(0deg)</span>;
  }
  <span class="value">75%</span> {
    <span class="property">transform</span>: <span class="value">translateX(75vw) translateY(25vh) rotate(-10deg)</span>;
  }
  <span class="value">100%</span> {
    <span class="property">transform</span>: <span class="value">translateX(100vw) translateY(0) rotate(0deg)</span>;
  }
}</pre>
      </div>
    </div>
    
    <div class="content-section">
      <h2>Additional Content Area</h2>
      <p>This section is here to demonstrate that the butterflies remain visible even when scrolling down the page. The butterflies are now positioned relative to the viewport rather than the container.</p>
      <p>As you scroll, you'll notice the butterflies continue to fly across the entire screen, creating a beautiful background effect that persists throughout your browsing experience.</p>
      <p>This solution ensures the animation remains visible regardless of where you are on the page, while maintaining the beautiful visual effect of the butterflies.</p>
    </div>
    
    <div class="content-section">
      <h2>Technical Details</h2>
      <p>The key to fixing the scrolling issue was changing the butterfly container from <code>position: absolute</code> to <code>position: fixed</code>. This makes the butterflies relative to the viewport rather than their container.</p>
      <p>Additionally, I modified the flight paths to use viewport units (vw and vh) instead of fixed pixels. This ensures the butterflies move proportionally to the screen size and remain visible throughout the scrolling experience.</p>
      <p>The rest of the animation logic remains the same - each butterfly still has unique flight paths, wing flapping animations, and color variations created with CSS filters.</p>
    </div>
    
    <div class="content-section">
      <h2>Conclusion</h2>
      <p>With these changes, the butterfly animation now works seamlessly with scrolling. The butterflies will fly across your entire screen regardless of your scroll position, creating a beautiful and immersive experience.</p>
      <p>This solution maintains all the benefits of the original pure CSS animation while solving the scrolling visibility issue. The butterflies remain lightweight, performant, and completely dependency-free.</p>
    </div>
  </div>
  
  <script>
    // Add Font Awesome for the arrow icons
    document.head.innerHTML += '<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">';
  </script>
</body>
</html>
